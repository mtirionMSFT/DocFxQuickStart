# Quick Start for Using DocFx and Companion Tools to generate a Documentation website

If you want an easy way to have a website with all your documentation coming from Markdown files and comments coming from code, you can use [DocFx](https://dotnet.github.io/docfx/). The website generated by DocFx also includes fast search capabilities. There are some gaps in the DocFx solution, but we've provided companion tools that help you fill those gaps. Also see the blog post [Providing quality documentation in your project with DocFx and Companion Tools](https://mtirion.medium.com/providing-quality-documentation-in-your-project-with-docfx-and-companion-tools-76aed42b1ddd) for more explanation about the solution.

## Quick Start

To get you started quickly from scratch, a QuickStart folder is provided to get you started quickly. This way you can focus on the documentation üòÅ. If you want to get started quickly in your own repo, follow these steps:

1. From the **QuickStart** folder copy these folders and files to your own repo:
   * **docfx** - templates, cross reference configuration.
   * **.markdownlint.json** - a configuration file for *markdownlint*.
   * **docfx.json** - The configuration for DocFx to generate a website and a PDF document

2. Some **optional** actions:

   * **.gitignore** - If you don't have a .gitignore yet, you can use this one which is based on a standard .NET Core ignore file. If you already have a .gitignore, please add this part to it, as those folders and files are generated by the process:

     ```yaml
     # DocFx generated files
     QuickStart/docs/**/toc.yml
     QuickStart/docs/reference/
     ```

   * **web.config** - copy this file as well if you want to deploy to an IIS website. It contains a redirect from the root to /docs/readme.html. It also enables the necessary extension to be served by the website.

   * **GenerateDocWebsite.cmd** - a helper command file to go through the complete process of 1) run markdownlint 2) check links with DocLinkChecker 3) generate table of content with DocFxTocGenerator and 4) generate the website and PDF using DocFx.

If you have taken care of the steps above, you can run the **GenerateDocWebsite.cmd** command file to generate the website and the PDF documentation. If you want to test the website on your local machine, you can add the **--serve** attribute to start a local web site on **<http://localhost:8080>**. If you use that parameter, the PDF is *not* generated though.

> [!NOTE]
>
> The *DocFx\GenerateDocWebsite.cmd* expects the [DocFx Companion Tools](https://github.com/Ellerbach/docfx-companion-tools) to be installed. You can do this using Chocolatey in a PowerShell window with Administrator privileges:
>
> ```powershell
> choco install docfx-companion-tools
> ```
>
> If you don't have Chocolatey on your machine, go to [the Chocolatey Install page](https://chocolatey.org/install) and follow the instructions.

## Create Azure App Service and Publish the Documentation

Now you have the documentation, you can automate the publication process in an Azure DevOps pipeline or GitHub Actions workflow.

1. **Azure:** Create a resource group in your Azure environment where the documentation website resources should be created.
4. **Create Azure resources:** Fill in the default values in *deployments/terrafor/variables.tf* and run the commands from [Step 3 - Deploy Azure resources from your local machine](deploy-docfx-azure-website.md#3-deploy-azure-resources-from-your-local-machine) to create the Azure Resources.
7. **Pipeline:** Fill in the variables in *pipelines/azure-devops/documentation.yml*, commit the changes and push the contents of the repository to your branch (possibly through a PR).
   Now you can create a pipeline in your Azure DevOps project that uses the *pipelines/azure-devops/documentation.yml* and run it.

This is the result if you publish all the content of the quick start to a website.

![Sample DocFx Website](SampleDocFxWebsite.png)

